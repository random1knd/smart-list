modules:
  # SQL database module - enables Forge SQL for the app
  sql:
    - key: main
      engine: mysql

  # Function modules
  function:
    # Backend resolver for all note and notification operations
    - key: notes-resolver
      handler: index.handler

  # Issue Panel module - main UI for managing private notes
  jira:issuePanel:
    - key: private-notes-panel
      resource: main
      resolver:
        function: notes-resolver
      viewportSize: large
      title: Private Notes
      icon: https://developer.atlassian.com/platform/forge/images/issue-panel-icon.svg

resources:
  - key: main
    path: static/hello-world/build
    tunnel:
      port: 3000
permissions:
  content:
    styles:
      - 'unsafe-inline'
  scopes:
    - read:jira-work
    - write:jira-work
    - read:jira-user
    - storage:app

app:
  runtime:
    name: nodejs22.x
    memoryMB: 512
    architecture: arm64
  id: ari:cloud:ecosystem::app/3f14f7bf-c3fa-47f2-b380-d7ff811310d0
